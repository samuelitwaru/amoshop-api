{% extends 'base.html' %}
{% from 'helpers.html' import render_string_field %}
{% block body %}
<div class="container">
	<h1 class="py-2">App Downloads</h1>
	<table class="ui celled table">
		<thead>
			<tr>
				<th>OS</th>
				<th>Type</th>
				<th>Download</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td data-label="Name">Windows-32</td>
				<td data-label="Name">...</td>
				<td data-label="Job">...</td>
			</tr>

			<tr>
				<td data-label="Name">Windows-64</td>
				<td data-label="Name">Installer</td>
				<td data-label="Job"><a class="ui button" href="{{url_for('index.download_win_64')}}">Download</a> (25MB)</td>
			</tr>

			<tr>
				<td data-label="Name">Linux-32</td>
				<td data-label="Name">...</td>
				<td data-label="Job">...</td>
			</tr>

			<tr>
				<td data-label="Name">Linux-64</td>
				<td data-label="Name">Zip</td>
				<td data-label="Job"><a class="ui button" href="{{url_for('index.download_lin_64')}}">Download</a> (70MB)</td>
			</tr>
	  </tbody>
	</table>

	<h1 class="py-2">Database</h1>
	<button class="ui button red" data-toggle="modal" data-target="#exampleModal">Reset DB</button>

	<!-- Modal -->
	<form method="POST" action="{{url_for('index.reset')}}">
		<div class="modal" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		  <div class="modal-dialog rounded-0 modal-dialog-scrollable modal-dialog-centered" role="document">
		    <div class="modal-content">
		      <div class="modal-header">
		        <h5 class="modal-title" id="exampleModalLabel">Reset DB</h5>
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		          <span aria-hidden="true">&times;</span>
		        </button>
		      </div>
		      <div class="modal-body">
				<div class="ui negative message">
					<i class="close icon"></i>
					<div class="header">
					Note
					</div>
					<p>This action will wipe the entire app's database.
					</p>
				</div>

				{{ reset_db_form.csrf_token }}
				{{ render_string_field(reset_db_form.username) }}
				{{ render_string_field(reset_db_form.password) }}

		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
		        <button type="submit" class="ui button red">Proceed</button>
		      </div>
		    </div>
		  </div>
		</div>
	</form>

</div>
{% endblock %}